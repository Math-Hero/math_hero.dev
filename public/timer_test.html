<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/jquery.js"></script> 
	<style>
		body{
			position:relative;
			width: 100%;
			height:100%;
		}
		#container{
			position: absolute;
			width: 100%;
			height:100%;
			background-color: green;
		}
		.timer {
			position: absolute;
			left:10%;
			background-color: black;
			color: white;
		}
		.prob_page{
			position:absolute;
			visibility: hidden;
			height:60%;
			width:60%;
			top:5%;
			right:5%;
			border-radius: 3%;
			border: 1px solid black;
			background-color: #F5DEB3;
			color: black;
			z-index: 2;
			font-size: 200%;
			font-family: 'Rock Salt';
		}
	</style>
</head>
<body>
	<div id="container">
		<div class="timer"></div>
		<div class="prob_page">
	    <table style="width:80%" align="center">
	        <tr>      
	            <td colspan="6" align="right">            
	            </td>
	        </tr>   
	        <tr>
	            <td colspan="6">
	            </td>
	        </tr>   
	        <tr>
	        </tr>
	        <tr>
	            <td>
	                <div id="numA"></div>
	            </td>
	            <td>
	                <div>+</div>
	            </td>
	            <td>
	                <div id="numB"></div>
	            </td>
	            <td>
	                <div>=</div>
	            </td>
	            <td>
	                <input id="answer" type="text"></input>
	            </td>
	            <td>
	                <input type="button" value="Check"></input>
	            </td>
	        </tr>
	    </table>
			</div>
		</div>
 	<script>
		$(document).ready(function(){
			gameTimer(); //Starts the timer and counter functions			
		});
		var lives = 3; //User starts with 3 lives
		//This function specifies how the timer runs and feeds in the mathProblem function to run every second
	//			function mathQuiz() { 	
					
					
//				} 

	/*			function mathQuiz() { 	
					console.log('test');
					var maxValue=60;
					function random(maxValue) {
						day= new Date();
						hour= day.getHours();
						min=day.getMinutes();
						sec=day.getSeconds();
						mili=day.getTime()
						return(((hour*3600)+(min*60)+(sec)+mili) % maxValue);
					}
					function random2(maxValue) {
						day= new Date();
						mil=day.getTime();
						return((mil) % maxValue);
					}
					function add() {
						numA=random(maxValue);
						numB=random2(maxValue);
						numC=numA + numB;
					//	numA=$("#number1").innerHTML; 
					//	numB=$("#number2").innerHTML; 
					//	window.prompt(  numA + "+"  + numB +  " = ", "");
						ans();
					}
					function ans() {
						if ($("input[type='text']").val() === numC) {
								msg = "Congratulations, your answer is correct.";
								
								mathProblem();
							}
							else {
								lives--; //If answer is wrong, Player is deducted a life
								msg = "Oops!  " + Answer + " is incorrect.\n\n"
									+ "The correct answer was " +numC + ".\n\n"
									+ "You have "+ lives+ " remaining";
		   					}
							mathProblem();
						}
					}
					random(60);
					random2(maxValue);
					add();
					ans(); */
				
		
		function startTimer(duration, display) { 
		    var timer = duration, minutes, seconds;
		    setInterval(function () {
		        minutes = parseInt(timer / 60, 10);
		        seconds = parseInt(timer % 60, 10);
		        minutes = minutes < 10 ? "0" + minutes : minutes;
		        seconds = seconds < 10 ? "0" + seconds : seconds;
		        display.textContent = minutes + ":" + seconds;
		        if (--timer < 0) {
		            timer = duration;
		        } mathProblem();
		    }, 1000);
		    return timer;
		}
		//This function specifies the timer start time and feeds it into the html 
		function gameTimer() {
			console.log("Game Timer started"); 
		    var fiveMinutes = 60 * 5,
		        display = document.querySelector('.timer');
		    startTimer(fiveMinutes, display);
		    console.log(startTimer);

		};
		//This function randomizes a number between 1 and 100 in order to randomly invoke a pop-up
		function mathProblem(){
			console.log("Math function started");
			var counter = Math.floor((Math.random() * 100) + 1);//Randomizes the number
			console.log(counter);
			if (counter % 7 == 0){ 
				$(".prob_page").css("visibility","visible");
				var numA=$("#numA").innerHTML;
				var numB=$("#numB").innerHTML; 
				var Answer= $("#answer").val();
			//startpaste	
				function mathQuiz() { 	
					console.log('test');
					maxValue=60;
					function random(maxValue) {
						day= new Date();
						hour= day.getHours();
						min=day.getMinutes();
						sec=day.getSeconds();
						mili=day.getTime()
						return(((hour*3600)+(min*60)+(sec)+mili) % maxValue);
					}
					function random2(maxValue) {
						day= new Date();
						mil=day.getTime();
						return((mil) % maxValue);
					}
					function add() {
						numA=random(maxValue);
						numB=random2(maxValue);
						numC=numA + numB;
					//	numA=$("#number1").innerHTML; 
					//	numB=$("#number2").innerHTML; 
					//	window.prompt(  numA + "+"  + numB +  " = ", "");
						ans();
					}
					function ans() {
						if ($("input[type='text']").val() === numC) {
								msg = "Congratulations, your answer is correct.";
								
								mathProblem();
							}
							else {
								lives--; //If answer is wrong, Player is deducted a life
								msg = "Oops!  " + Answer + " is incorrect.\n\n"
									+ "The correct answer was " +numC + ".\n\n"
									+ "You have "+ lives+ " remaining";
		   					}
							mathProblem();
						}
					}
					random(maxValue);
					random2(maxValue);
					add();
					ans();
				} 
				console.log('test');
			/*		maxValue=60;
					function random(maxValue) {
						day= new Date();
						hour= day.getHours();
						min=day.getMinutes();
						sec=day.getSeconds();
						mili=day.getTime()
						return(((hour*3600)+(min*60)+(sec)+mili) % maxValue);
					}
					function random2(maxValue) {
						day= new Date();
						mil=day.getTime();
						return((mil) % maxValue);
					}
					function add() {
						numA=random(maxValue);
						numB=random2(maxValue);
						numC=numA + numB;
					//	numA=$("#number1").innerHTML; 
					//	numB=$("#number2").innerHTML; 
					//	window.prompt(  numA + "+"  + numB +  " = ", "");
						ans();
					}
					function ans() {
						if ($("input[type='text']").val() === numC) {
								msg = "Congratulations, your answer is correct.";			
								mathProblem();
							}
							else {
								lives--; //If answer is wrong, Player is deducted a life
								msg = "Oops!  " + Answer + " is incorrect.\n\n"
									+ "The correct answer was " +numC + ".\n\n"
									+ "You have "+ lives+ " remaining";
		   					}
							mathProblem();
						}
					}
					random(60);
					random2(60);
					add();
					///end paste
				console.log("Counter worked"); */
				
			} 
			
		
 </script>

</body>
</html>